@page "/Employee"
@using BlazorAplicada2ProjectFinal.Data;
@inject NavigationManager Navigator 

<h3>Creation of Employees</h3>

<EditForm Model="@employees" OnValidSubmit="@Crear">
    <DataAnnotationsValidator>  </DataAnnotationsValidator>

        <div class="form-group">
            <label for="Nombre">Nombres</label>
            <InputText @bind-Value="employees.Nombres" class="form-control" placeholder="Ezequiel" />
            <ValidationMessage For="@(()=>employees.Nombres)" />
        </div>
        <div class="form-group">
            <label for="Apellido">Apellidos</label>
            <InputText @bind-Value="employees.Apellidos" class="form-control" placeholder="Garcia"></InputText>
            <ValidationMessage For="@(()=>employees.Apellidos)"></ValidationMessage>
        </div>
        <div class="form-group">
            <label for="Cedula">Cedula</label>
            <InputText @bind-Value="employees.Cedula" class="form-control">Cedula</InputText>
            <ValidationMessage For="@(()=>employees.Cedula)"></ValidationMessage>
        </div>
        <div class="form-group">
            <label for="Nacionalidad">Nacionalidad</label>
            <InputText @bind-Value="employees.Nacionalidad" class="form-control"></InputText>
            <ValidationMessage For="@(()=>employees.Nacionalidad)"></ValidationMessage>
        </div>
        <div class="form-group">
            <label for="Celular">Celular</label>
            <InputText @bind-Value="employees.Celular" class="form-control"></InputText>
            <ValidationMessage For="(()=>employees.Celular)"></ValidationMessage>
        </div>
        <div class="form-group">
            <label for="Telefono">Telefono</label>
            <InputText @bind-Value="employees.Telefono" class="form-control"></InputText>
            <ValidationMessage For="(()=>employees.Telefono)"></ValidationMessage>
        </div>
       <div class="form-group">
           <label for="Salario">Salario</label>
           <InputNumber @bind-Value="employees.Salario" class="form-control"></InputNumber>
           <ValidationMessage For="@(()=>employees.Salario)"></ValidationMessage>
       </div>
       <div class="form-group">
           <label>
               <InputSelect @bind-Value="employees.EstadoCivil">
                   <option value="">Seleccione el Estado Civil</option>
                   <option value="Solteor">Soltero</option>
                   <option value="Casado">Casado</option>
                   <option value="Divorciado">Divorciado</option>
                   <option value="Viudo">Viudo</option>
                   <option value="Comprometido">Comprometido</option>
                   <option value="Relacion">Relacion</option>
               </InputSelect>
           </label>
           <ValidationMessage For="(()=>employees.EstadoCivil)"></ValidationMessage>
       </div>
       <div class="form-group">
           <label>
               <InputSelect @bind-Value="employees.Sexo">
                   <option value="">Seleccione Sexo</option>
                   <option value="Masculino">Masculino</option>
                   <option value="Femenino">Femenino</option>
               </InputSelect>
           </label>
           <ValidationMessage For="(()=>employees.Sexo)"></ValidationMessage>
       </div>
        <div class="form-group">
            <label for="FechaNacimiento">Fecha de Nacimiento</label>
            <InputDate @bind-Value="employees.FechaNacimiento" class="form-control"></InputDate>
            <ValidationMessage For="@(()=>employees.FechaNacimiento)"></ValidationMessage>
        </div>
        <div class="form-group">
            <label for="FechaCreacion">Fecha de Creacion</label>
            <InputDate @bind-Value="employees.FechaIngreso" class="form-control"></InputDate>
            <ValidationMessage For="(()=>employees.FechaIngreso)"></ValidationMessage>
        </div>
        <div class="form-group">
            <button type="submit" class="btn btn-primary">Crear</button>
        </div>
  
</EditForm>

@code {

    BaseRepository<Employees> BaseRepository = new BaseRepository<Employees>();

    Employees employees = new Employees();
  
    private void Crear()
    {
        BaseRepository.Guardar(employees);
        employees = new Employees();
        Navigator.NavigateTo("Consulta");
    }
}
